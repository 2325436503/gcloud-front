import{r as v,A as y,w as R,C as p,aY as C}from"./index.af57445c.js";import{w as E}from"./index.04c61e6b.js";let o=0,a="",f="",d="",c="";const m=v("0px");function L(g){if(typeof document>"u")return;const e=document.documentElement;let n,i=!1;const r=()=>{e.style.marginRight=a,e.style.overflow=f,e.style.overflowX=d,e.style.overflowY=c,m.value="0px"};y(()=>{n=R(g,h=>{if(h){if(!o){const l=window.innerWidth-e.offsetWidth;l>0&&(a=e.style.marginRight,e.style.marginRight=`${l}px`,m.value=`${l}px`),f=e.style.overflow,d=e.style.overflowX,c=e.style.overflowY,e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden"}i=!0,o++}else o--,o||r(),i=!1},{immediate:!0})}),p(()=>{n==null||n(),i&&(o--,o||r(),i=!1)})}const s=v(!1),w=()=>{s.value=!0},u=()=>{s.value=!1};let t=0;const Y=()=>(E&&(C(()=>{t||(window.addEventListener("compositionstart",w),window.addEventListener("compositionend",u)),t++}),p(()=>{t<=1?(window.removeEventListener("compositionstart",w),window.removeEventListener("compositionend",u),t=0):t--})),s);export{Y as a,L as u};
